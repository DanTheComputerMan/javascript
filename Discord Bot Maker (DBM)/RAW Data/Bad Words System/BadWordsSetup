{
  "name": "BadWordSetup",
  "permissions": "NONE",
  "restriction": "1",
  "_id": "QEUfc",
  "actions": [
    {
      "code": "// Javascript code here. Do NOT edit this or you WILL likely break it.\n(async () => {\n\tconst https = require('https');\n\tconst ensure = this.getMods().require;\n\tconst db = ensure('quick.db');\n\tconst isImageURL = ensure('image-url-validator'); // Invalid embed images break without it.\n\tconst { parse, stringify } = JSON5 = ensure('json5');\n\t\n\t// createPath(['triangle', 'points'], obj, 3);\n\tfunction ensurePath(path, obj, def) { // def = default value (optional; defaults to empty object). Built in checking if object already exists. If it does not exist, creates the path.\n\t\tfor(let i = 0; i < path.length; i++) {\n\t\t\tobj = obj[path[i]] = obj[path[i]] || ((def !== undefined && (i === path.length - 1)) ? def : {});\n\t\t}\n\t}\n\t\n\tfunction trim(str) { // Trims leading and trailing spaces from a string.\n\t\treturn str.replace(/^\\s+|\\s+$/gm,'');\n\t}\n\t\n\tfunction formatText(str, len=1900) {\n\t\treturn trim(str).replace(/\\*/g, '\\\\*').replace(/_/g, '\\\\_').slice(0, len);\n\t}\n\t\n\tfunction PermCase(arr, symbol) {\n\t\tif (!symbol) symbol = \" \";\n\t\tlet new_arr = [];\n\t\tarr.forEach(elem => {\n\t\t\tif (Object.prototype.toString.call(elem) === '[object String]') { // this case is only usable for Discord Permission format.\n\t\t\t\tnew_arr.push(elem.replace(/_/g,' ').replace(/\\w+/g, (t) => `${t[0].toUpperCase() + t.slice(1, Infinity).toLowerCase()}` ));\n\t\t\t} else {\n\t\t\t\tnew_arr.push(elem);\n\t\t\t}\n\t\t});\n\t\treturn new_arr.join(symbol);\n\t}\n\t\n\tconst badwordsystem = db.get(`servers.${msg.guild.id}.badwordsystem`) || {};\n    // This is just a starting bad word list.\n\tconst wordlist = badwordsystem.badwordlist || [{\"word\":\"anal\"},{\"word\":\"anus\"},{\"word\":\"arse\"},{\"word\":\"ass\"},{\"word\":\"asshole\"},{\"word\":\"ballsack\"},{\"word\":\"balls\"},{\"word\":\"bastard\"},{\"word\":\"bitch\"},{\"word\":\"blowjob\"},{\"word\":\"blow job\"},{\"word\":\"boner\"},{\"word\":\"boob\"},{\"word\":\"clit\"},{\"word\":\"clitoris\"},{\"word\":\"cock\"},{\"word\":\"coon\"},{\"word\":\"cunnilingus\"},{\"word\":\"cunt\"},{\"word\":\"damn\"},{\"word\":\"dick\"},{\"word\":\"dildo\"},{\"word\":\"dyke\"},{\"word\":\"fag\"},{\"word\":\"faggot\"},{\"word\":\"fellate\"},{\"word\":\"fellatio\"},{\"word\":\"fuck\"},{\"word\":\"goddamn\"},{\"word\":\"god damn\"},{\"word\":\"hell\"},{\"word\":\"homo\"},{\"word\":\"jizz\"},{\"word\":\"labia\"},{\"word\":\"nigga\"},{\"word\":\"nigger\"},{\"word\":\"penis\"},{\"word\":\"pube\"},{\"word\":\"pussy\"},{\"word\":\"queer\"},{\"word\":\"scrotum\"},{\"word\":\"sex\"},{\"word\":\"shit\"},{\"word\":\"slut\"},{\"word\":\"smegma\"},{\"word\":\"tit\"},{\"word\":\"twat\"},{\"word\":\"vagina\"},{\"word\":\"wank\"},{\"word\":\"whore\"}];\n\t\n\tensurePath(['version'], badwordsystem, \"2.0.0\");\n\tensurePath(['status'], badwordsystem, false);\n\tensurePath(['config', 'channels', 'badwordlog'], badwordsystem);\n\tensurePath(['config', 'channels', 'actionlog'], badwordsystem);\n\tensurePath(['config', 'defaults', 'config'], badwordsystem);\n\tensurePath(['config', 'filters', 'channels'], badwordsystem, []);\n\tensurePath(['config', 'filters', 'roles'], badwordsystem, []);\n\tensurePath(['config', 'commands', 'disabled'], badwordsystem, []);\n\t\n\tconst enabled = badwordsystem.status;\n\tconst badwordlogchannel = bot.channels.cache.get(badwordsystem.config.channels.badwordlog.channelid) || ''; // In case no channel exists anymore for the stored ChannelID.\n\tconst actionlogchannel = bot.channels.cache.get(badwordsystem.config.channels.actionlog.channelid) || ''; // In case no channel exists anymore for the stored ChannelID.\n\tconst default_rules = badwordsystem.config.defaults.config.rules || {};\n\t\n\tconst prefix = (server && server.tag) || this.getDBM().Files.data.settings.tag || \"!\";\n\tconst args = msg.content.slice(prefix.length).trim().split(/ +/g); \n\tconst command = args[0]; args.shift();\n\t\n\tconst configperms = [ \"BAN_MEMBERS\", \"KICK_MEMBERS\", \"MANAGE_MESSAGES\" ];\n\tconst msgperms = [ \"SEND_MESSAGES\", \"EMBED_LINKS\", \"ATTACH_FILES\" ];\n\n    const selfperms = configperms.every(p => msg.guild.me.hasPermission(p));\n\tconst userperms = configperms.every(p => member.hasPermission(p));\n\tconst messageperms = msgperms.every(p => msg.channel.permissionsFor(bot.user.id).has(p));\n\t\n\tconst pages = { \"help\":{}, \"enable\":{}, \"disable\":{}, \"status\":{}, \"download\":{}, \"upload\":{}, \"channels\":{ \"help\":{}, \"status\":{}, \"badwordlog\":{}, \"actionlog\":{} }, \"defaults\":{ \"help\":{}, \"usermode\":{ \"help\":{}, \"status\": {}, \"mention\":{}, \"tag\":{}, \"id\":{} }, \"matchstyle\":{ \"help\":{}, \"status\":{}, \"regexbased\":{}, \"matchany\":{}, \"matchanycasingmatters\":{}, \"matchword\":{}, \"matchwordcasingmatters\":{} }, \"action\":{ \"help\":{}, \"status\":{}, \"delete\":{}, \"mute\":{}, \"kick\":{}, \"ban\":{} }, \"muterole\":{}, \"color\":{}, \"thumbnail\":{}, \"footer\":{}, \"timestamp\":{} }, \"filters\":{ \"help\":{}, \"status\": {}, \"channel\":{}, \"role\":{} }, \"rules\":{ \"help\":{}, \"status\":{}, \"BreakOnMatch\":{}, \"PostDeleteMessage\":{}, \"PostDeleteMessageText\":{}, \"PostMuteMessage\":{}, \"PostKickMessage\":{}, \"PostBanMessage\":{} }, \"transferfrom\":{}, \"transferto\":{} };\n\t\n\tconst url = `https://github.com/DanTheComputerMan/javascript/tree/master/Discord%20Bot%20Maker%20(DBM)/RAW%20Data/Bad%20Words%20System`;\n\tconst tutorial = `For more info, visit the [GitHub](${url}) page.`;\n\tlet content = `Welcome to the Bad Word Config System\\n\\nFrom here, you can configure various parts of the system. For a full breakdown of the features, visit the [Github page here](${url}).`;\n\t\n\tlet attachment, file_url, channel;\n\t\n\tconst em = new DiscordJS.MessageEmbed;\n\tif (badwordsystem.config.defaults.config.timestamp) em.setTimestamp(Date.now());\n\tif (badwordsystem.config.defaults.config.footer) em.setFooter(badwordsystem.config.defaults.config.footer);\n\tif (await isImageURL(badwordsystem.config.defaults.config.imageURL)) em.setImage(badwordsystem.config.defaults.config.imageURL);\n\tif (await isImageURL(badwordsystem.config.defaults.config.thumbnailURL)) em.setThumbnail(badwordsystem.config.defaults.config.thumbnailURL);\n\n\tem.setURL(url)\n\t\t.setColor(badwordsystem.config.defaults.config.color || \"GREEN\")\n\t\t.setTitle(\"Bad Word Config System\")\n\n\tif (!userperms || !selfperms) {\n\t\tem.setColor('ORANGE');\n\t\tcontent = `? don't have the appropriate permissions to configure the system. ? need: ${PermCase(!userperms ? configperms : msgperms, ', ')}`.replace(/\\?/g, (!userperms) ? 'You' : 'I');\n\t\tem.setDescription(content);\n\t\tmsg.channel.send(messageperms ? em : content, messageperms ? attachment : null);\n\t} else {\n\t\tswitch (args[0]) {\n\t\t\tcase undefined:\n\t\t\tcase 'help':\n\t\t\t\tcontent = `Bad Word System Help Menu\\n\\nThe available commands are: \\n**${Object.keys(pages).join('**, **')}**\\n\\nFor a full list of features, visit the [GitHub](${url}) page.`;\n\t\t\t\tem.setDescription(content)\n\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\tbreak;\n\t\t\tcase 'enable':\n\t\t\t\tcontent = `${badwordsystem.status ? \"The bad word system is already enabled.\" : \"Enabled the bad word system.\"}`;\n\t\t\t\tem.setDescription(content)\n\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.status`, true);\n\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\tbreak;\n\t\t\tcase 'disable':\n\t\t\t\tcontent = `${badwordsystem.status ? \"Disabled the bad word system.\" : \"The bad word system is already disabled.\"}`;\n\t\t\t\tem.setDescription(content)\n\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.status`, false);\n\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\tbreak;\n\t\t\tcase 'status':\n\t\t\t\tcontent = `The Bad Word system is currently ${badwordsystem.status ? \"en\" : \"dis\"}abled.`;\n\t\t\t\tem.setDescription(content)\n\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\tbreak;\n\t\t\tcase 'download':\n\t\t\t\tlet wlist = Buffer.from(stringify(wordlist), 'utf8');\n\t\t\t\tattachment = new DiscordJS.MessageAttachment(wlist, 'bws_wordlist.txt');\n\t\t\t\tcontent = messageperms ? \"I have attached the entire bad word list.\" : `I do not have permission to attach the file. Here is the entire bad word list: ${attachment.url}`\n\t\t\t\tmsg.channel.send(content, messageperms ? attachment : null);\n\t\t\t\tbreak;\n\t\t\tcase 'upload':\n\t\t\t\ttry {\n\t\t\t\t\tfile_url = msg.attachments.find(att => att.url.match(/\\.txt$/)) || args.slice(1, Infinity).join(' ').match(/^((http(s)?)?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)\\/\\w+\\.txt$/) || '';\n\t\t\t\t\tif (!file_url) {\n\t\t\t\t\t\tcontent = \"Please either attach a file, or provide a link to the file.\"\n\t\t\t\t\t\tem.setColor('ORANGE')\n\t\t\t\t\t\t\t.setDescription(content);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\thttps.get(file_url[0] || file_url.url, (resp) => {\n\t\t\t\t\t\tlet data = '';\n\t\t\t\t\t\tresp.on('data', (chunk) => {\n\t\t\t\t\t\t\tdata += chunk;\n\t\t\t\t\t\t})\n\t\t\t\t\t\tresp.on('end', () => { // data is fully collected.\n\t\t\t\t\t\t\tconst newwordlist = [...new Set(wordlist.map(w => stringify(w)))].map(w => parse(w));\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.badwordlist`, newwordlist);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tcontent = `Successfully uploaded all words in the file into the database. There are now ${newwordlist.length} words in the database.`;\n\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t})\n\t\t\t\t\t});\n\t\t\t\t} catch (err) {\n\t\t\t\t\tem.setColor('ORANGE'); attachment = null;\n\t\t\t\t\tcontent = \"There was an error parsing your file. Please ensure you are providing a valid file attachment or a valid link to the file.\";\n\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'channels':\n\t\t\t\tswitch (args[1]) {\n\t\t\t\t\tcase undefined:\n\t\t\t\t\tcase 'help':\n\t\t\t\t\t\tcontent = `Bad Word System Channels Help Menu\\n\\nThe available options are: \\n**${Object.keys(pages.channels).join(\"**, **\")}**\\n\\nFor a full list of features, visit the [GitHub](${url}) page.`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'status':\n\t\t\t\t\t\tconsole.log(Object.entries(badwordsystem.config.channels));\n\t\t\t\t\t\tcontent = `Bad Word System Channels Status Menu\\n\\nThe channels are:\\n${Object.entries(badwordsystem.config.channels).map(chan => (chan[1] && chan[1].channelid) ? `**${chan[0]}:** <#${chan[1].channelid}>` : `**${chan[0]}:** <Not Set>`).join(\"\\n\")}\\n\\nFor a full list of features, visit the [GitHub](${url}) page.`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'badwordlog':\n\t\t\t\t\t\tif (!args[2]) {\n\t\t\t\t\t\t\tcontent = `You did not provide a channel mention or channelID to use for the badwordlog. (Ex: ${msg.channel} or **${msg.channel.id}**)`;\n\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tchannel = msg.mentions.channels.first() && msg.mentions.channels.first().id || args[2];\n\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.channels.badwordlog.channelid`, channel);\n\t\t\t\t\t\tcontent = `Successfully set the bad word log channel to <#${channel}>`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'actionlog':\n\t\t\t\t\t\tif (!args[2]) {\n\t\t\t\t\t\t\tcontent = `You did not provide a channel mention or channelID to use for the actionlog. (Ex: ${msg.channel} or **${msg.channel.id}**)`;\n\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tchannel = msg.mentions.channels.first() && msg.mentions.channels.first().id || args[2];\n\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.channels.actionlog.channelid`, channel);\n\t\t\t\t\t\tcontent = `Successfully set the action log channel to <#${channel}>`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tcontent = `Sorry, **${formatText(args.join(' '))}** was not a valid selection.`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'defaults':\n\t\t\t\tswitch (args[1]) {\n\t\t\t\t\tcase undefined:\n\t\t\t\t\tcase 'help':\n\t\t\t\t\t\tcontent = `Bad Word System Defaults Help Menu\\n\\nThe available options are: \\n**${Object.keys(pages.defaults).join(\"**, **\")}**\\n\\nFor a full list of features, visit the [GitHub](${url}) page.`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'usermode':\n\t\t\t\t\t\tswitch (args[2]) {\n\t\t\t\t\t\t\tcase undefined:\n\t\t\t\t\t\t\tcase 'help':\n\t\t\t\t\t\t\t\tcontent = `Bad Word System user mode Help Menu\\n\\nThe available options are: \\n**${Object.keys(pages.defaults.usermode).join(\"**, **\")}**`;\n\t\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'status':\n\t\t\t\t\t\t\t\tcontent = `The usermode is currently set as: **${badwordsystem.config.defaults.usermode || '@mention'}**`;\n\t\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'mention':\n\t\t\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.defaults.usermode`, 'mention');\n\t\t\t\t\t\t\t\tcontent = `Successfully set the user mode to @mention. (Ex: ${msg.author})`;\n\t\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'tag':\n\t\t\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.defaults.usermode`, 'tag');\n\t\t\t\t\t\t\t\tcontent = `Successfully set the user mode to tag. (Ex: **${msg.author.tag}**)`;\n\t\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'id':\n\t\t\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.defaults.usermode`, 'id');\n\t\t\t\t\t\t\t\tcontent = `Successfully set the user mode to id. (Ex: **${msg.author.id}**)`;\n\t\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tcontent = `Sorry, **${formatText(args.join(' '))}** was not a valid selection.`;\n\t\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'matchstyle':\n\t\t\t\t\t\tswitch (args[2]) {\n\t\t\t\t\t\t\tcase 'help':\n\t\t\t\t\t\t\t\tcontent = `Bad Word System user mode Help Menu\\n\\nThe available options are: \\n**${Object.keys(pages.defaults.matchstyle).join(\"**, **\")}**`;\n\t\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'status':\n\t\t\t\t\t\t\t\tcontent = `The match style is currently set as: **${badwordsystem.config.defaults.matchstyle || 'matchword'}**`;\n\t\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'matchregex':\n\t\t\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.defaults.matchstyle`, 'matchregex');\n\t\t\t\t\t\t\t\tcontent = \"Successfully set the matchstyle to regexbased. This mode is useful if you have regex expressions as words.\";\n\t\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'matchany':\n\t\t\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.defaults.matchstyle`, 'matchany');\n\t\t\t\t\t\t\t\tcontent = \"Successfully set the matchstyle to matchany.\";\n\t\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'matchanycasingmatters':\n\t\t\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.defaults.matchstyle`, 'matchanycasingmatters');\n\t\t\t\t\t\t\t\tcontent = \"Successfully set the matchstyle to matchanycasingmatters.\";\n\t\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'matchword':\n\t\t\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.defaults.matchstyle`, 'matchword');\n\t\t\t\t\t\t\t\tcontent = \"Successfully set the matchstyle to matchword.\";\n\t\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'matchwordcasingmatters':\n\t\t\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.defaults.matchstyle`, 'matchwordcasingmatters');\n\t\t\t\t\t\t\t\tcontent = \"Successfully set the matchstyle to matchwordcasingmatters.\";\n\t\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tcontent = `Sorry, **${formatText(args.join(' '))}** was not a valid selection.`;\n\t\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'action':\n\t\t\t\t\t\tswitch (args[2]) {\n\t\t\t\t\t\t\tcase undefined:\n\t\t\t\t\t\t\tcase 'help':\n\t\t\t\t\t\t\t\tcontent = `Bad Word System default action Help Menu\\n\\nThe available options are: \\n**${Object.keys(pages.defaults.action).join(\"**, **\")}**`;\n\t\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'status':\n\t\t\t\t\t\t\t\tcontent = `The default action is set as: **${badwordsystem.config.defaults.config.action || \"delete\"}**. This is used when the word does not have an action specified.`;\n\t\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'delete':\n\t\t\t\t\t\t\tcase 'mute':\n\t\t\t\t\t\t\tcase 'kick':\n\t\t\t\t\t\t\tcase 'ban':\n\t\t\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.defaults.config.action`, args[2]);\n\t\t\t\t\t\t\t\tcontent = `Successfully changed the default action to: **${args[2]}**. This is used when the word does not have an action specified.`;\n\t\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tcontent = \"You did not provide a valid default action to use.\";\n\t\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\t\tem.setColor('ORANGE');\n\t\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'muterole':\n\t\t\t\t\t\tconst mentionedrole = msg.mentions.roles.first() && msg.mentions.roles.first().id || args[2];\n\t\t\t\t\t\tif (!mentionedrole) {\n\t\t\t\t\t\t\tcontent = \"You did not mention a role or provide a role ID to use.\";\n\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\tem.setColor('ORANGE');\n\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else if (args[2] === \"remove\") {\n                            db.delete(`servers.${msg.guild.id}.badwordsystem.config.defaults.muterole`);\n                            content = \"Removed the mute role.\";\n                            em.setDescription(content);\n                            msg.channel.send(messageperms ? em : content);\n                            break;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.defaults.muterole`, mentionedrole);\n\t\t\t\t\t\t\tcontent = `Successfully changed the muterole to: **<@&${mentionedrole}>**`;\n\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\tcase 'color':\n\t\t\t\t\t\tif (args[2] === \"remove\") {\n\t\t\t\t\t\t\tdb.delete(`servers.${msg.guild.id}.badwordsystem.config.defaults.config.color`);\n                            content = \"Removed the default color.\";\n                            em.setDescription(content);\n                            msg.channel.send(messageperms ? em : content);\n                            break;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Determine if the color is a valid Embed color.\n\t\t\t\t\t\t\tem.setColor(Number(args[2]));\n\t\t\t\t\t\t\tif (isNaN(em.color)) em.setColor(args[2] || ''.toUpperCase());\n\t\t\t\t\t\t\tif (isNaN(em.color)) {\n\t\t\t\t\t\t\t\tcontent = `That was an invalid embed color. Please try again or go to [this link](https://gist.github.com/thomasbnt/b6f455e2c7d743b796917fa3c205f812) to see the valid embed colors.`;\n\t\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\t\tem.setColor('ORANGE');\n\t\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.defaults.config.color`, em.color)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tcontent = `Successfully changed the default color.`;\n\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\tcase 'image':\n\t\t\t\t\t\tif (args[2] === \"remove\") {\n\t\t\t\t\t\t\tdb.delete(`servers.${msg.guild.id}.badwordsystem.config.defaults.config.imageURL`);\n\t\t\t\t\t\t\tdelete em.image;\n\t\t\t\t\t\t\tcontent = \"Removed the imageURL\";\n\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else if (!args[2] || !await isImageURL(args.slice(2, Infinity).join(\" \"))) {\n\t\t\t\t\t\t\tcontent = \"You did not provide a default image URL to use or the image URL was invalid.\";\n\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\tem.setColor('ORANGE');\n\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.defaults.config.imageURL`, args.slice(2, Infinity).join(' '));\n\t\t\t\t\t\tcontent = `Successfully changed the default image URL to: **${formatText(args.slice(2, Infinity).join(' '))}**`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'thumbnail':\n\t\t\t\t\t\tif (args[2] === \"remove\") {\n\t\t\t\t\t\t\tdb.delete(`servers.${msg.guild.id}.badwordsystem.config.defaults.config.thumbnailURL`);\n\t\t\t\t\t\t\tdelete em.thumbnail;\n\t\t\t\t\t\t\tcontent = \"Removed the thumbnailURL\";\n\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else if (!args[2] || !await isImageURL(args.slice(2, Infinity).join(\" \"))) {\n\t\t\t\t\t\t\tcontent = \"You did not provide a default thumbnail URL to use or the thumbnail URL was invalid.\";\n\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\tem.setColor('ORANGE');\n\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.defaults.config.thumbnailURL`, args.slice(2, Infinity).join(' '));\n\t\t\t\t\t\tcontent = `Successfully changed the default thumbnail URL to: **${formatText(args.slice(2, Infinity).join(' '))}**`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'footer':\n\t\t\t\t\t\tif (args[2] === \"remove\") {\n\t\t\t\t\t\t\tdb.delete(`servers.${msg.guild.id}.badwordsystem.config.defaults.config.footer`);\n\t\t\t\t\t\t\tdelete em.footer;\n\t\t\t\t\t\t\tcontent = \"Removed the footer\";\n\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else if (!args[2]) {\n\t\t\t\t\t\t\tcontent = `You did not provide a default footer to use.`;\n\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\tem.setColor('ORANGE');\n\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.defaults.config.footer`, args.slice(2, Infinity).join(' '));\n\t\t\t\t\t\tcontent = `Successfully changed the default footer to: **${formatText(args.slice(2, Infinity).join(' '))}**`;\n\t\t\t\t\t\tem.setDescription(content)\n\t\t\t\t\t\t\t.setFooter(args.slice(2, Infinity).join(' '));\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'timestamp':\n\t\t\t\t\t\tcontent = `You have ${badwordsystem.config.defaults.config.timestamp ? \"dis\" : \"en\"}abled the timestamp.`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tif (!badwordsystem.config.defaults.config.timestamp) { em.setTimestamp(Date.now()) } else { delete em.timestamp; }\n\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.defaults.config.timestamp`, badwordsystem.config.defaults.config.timestamp ? false : true);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tem.setColor('ORANGE');\n\t\t\t\t\t\tcontent = `Sorry, **${formatText(args.join(' ') || '<No selection>')}** was not a valid selection.`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content, messageperms ? attachment : null);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'filters':\n\t\t\t\tswitch (args[1]) {\n\t\t\t\t\tcase undefined:\n\t\t\t\t\tcase 'help':\n\t\t\t\t\t\tcontent = `Bad Word System Filters Help Menu\\n\\nThe available options are: \\n**${Object.keys(pages.filters).join(\"**, **\")}**\\n\\nFor a full list of features, visit the [GitHub](${url}) page.`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'status':\n\t\t\t\t\t\tlet channelsarr = badwordsystem.config.filters.channels.map(c => `<#${c}>`);\n\t\t\t\t\t\tlet rolesarr = badwordsystem.config.filters.roles.map(r => msg.guild.roles.cache.get(r) || `\\\\<@&${r}>`);\n\t\t\t\t\t\tcontent = `Bad Word System Filters Status Menu\\n\\nThe excluded channels are: **${channelsarr.join(\"**, **\") || \"<No channels>\"}**\\nThe excluded roles are: **${rolesarr.join(\"**, **\") || \"<No roles>\"}**\\n\\nFor a full list of features, visit the [GitHub](${url}) page.`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'channel':\n\t\t\t\t\t\tif (!args[2]) {\n\t\t\t\t\t\t\tcontent = `You did not provide a channel mention or channelID to use for the channel filter. (Ex: ${msg.channel} or **${msg.channel.id}**)`;\n\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tlet channels = badwordsystem.config.filters.channels;\n\t\t\t\t\t\tconst numchannels = channels.length;\n\t\t\t\t\t\tchannel = msg.mentions.channels.first() && msg.mentions.channels.first().id || args[2];\n\t\t\t\t\t\tif (channels.indexOf(channel) === -1) {\n\t\t\t\t\t\t\tchannels.push(channel);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet index = channels.indexOf(channel);\n\t\t\t\t\t\t\tchannels.splice(index, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tchannels = [...new Set(channels)];\n\t\t\t\t\t\t\n\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.filters.channels`, channels);\n\t\t\t\t\t\tcontent = `Successfully ${(numchannels > channels.length) ? \"removed\" : \"added\"} the channel ${(numchannels > channels.length) ? \"from\" : \"to\"} the filtered channels.`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'role':\n\t\t\t\t\t\tif (!args[2]) {\n\t\t\t\t\t\t\tcontent = `You did not provide a role mention or roleID to use for the role filter. (Ex: ${msg.member.roles.highest} or ${msg.member.roles.highest.id})`;\n\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tlet roles = badwordsystem.config.filters.roles;\n\t\t\t\t\t\tconst numroles = roles.length || 0;\n\t\t\t\t\t\tlet role = msg.mentions.roles.first() && msg.mentions.roles.first().id || args[2];\n\t\t\t\t\t\tif (roles.indexOf(role) === -1) {\n\t\t\t\t\t\t\troles.push(role);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet index = roles.indexOf(role);\n\t\t\t\t\t\t\troles.splice(index, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\troles = [...new Set(roles)];\n\t\t\t\t\t\t\n\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.filters.roles`, roles);\n\t\t\t\t\t\tcontent = `Successfully ${(numroles > roles.length) ? \"removed\" : \"added\"} the role ${(numroles > roles.length) ? \"from\" : \"to\"} the filtered roles.`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tcontent = `Sorry, **${formatText(args.join(' '))}** was not a valid selection.`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"rules\":\n\t\t\t\tswitch (args[1]) {\n\t\t\t\t\tcase undefined:\n\t\t\t\t\tcase \"help\":\n\t\t\t\t\t\tcontent = `Bad Word System Rules Help Menu\\n\\nThe available options are: \\n**${Object.keys(pages.rules).join(\"**, **\")}**`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'status':\n\t\t\t\t\t\tcontent = `The enabled rules are:\\n**${Object.keys(default_rules).join(\"**, **\") || \"<No enabled rules>\"}**`;\n\t\t\t\t\t\tem.setDescription(content)\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"BreakOnMatch\":\n\t\t\t\t\t\tif (default_rules.BreakOnMatch) { delete default_rules.BreakOnMatch; } else { default_rules.BreakOnMatch = true; }\n\t\t\t\t\t\tcontent = `You have ${default_rules.BreakOnMatch ? \"dis\" : \"en\"}abled the BreakOnMatch rule.`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.defaults.config.rules`, default_rules);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"PostDeleteMessage\":\n\t\t\t\t\t\tif (default_rules.PostDeleteMessage) { delete default_rules.PostDeleteMessage; } else { default_rules.PostDeleteMessage = true; }\n\t\t\t\t\t\tcontent = `You have ${default_rules.PostDeleteMessage ? \"dis\" : \"en\"}abled the PostDeleteMessage rule.`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.defaults.config.rules`, default_rules);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"PostDeleteMessageText\":\n\t\t\t\t\t\tif (default_rules.PostDeleteMessageText) { delete default_rules.PostDeleteMessageText; } else { default_rules.PostDeleteMessageText = true; }\n\t\t\t\t\t\tcontent = `You have ${default_rules.PostDeleteMessageText ? \"dis\" : \"en\"}abled the PostDeleteMessageText rule.`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.defaults.config.rules`, default_rules);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"PostMuteMessage\":\n\t\t\t\t\t\tif (default_rules.PostMuteMessage) { delete default_rules.PostMuteMessage; } else { default_rules.PostMuteMessage = true; }\n\t\t\t\t\t\tcontent = `You have ${default_rules.PostMuteMessage ? \"dis\" : \"en\"}abled the PostMuteMessage rule.`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.defaults.config.rules`, default_rules);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"PostMuteMessageText\":\n\t\t\t\t\t\tif (default_rules.PostMuteMessageText) { delete default_rules.PostMuteMessageText; } else { default_rules.PostMuteMessageText = true; }\n\t\t\t\t\t\tcontent = `You have ${default_rules.PostMuteMessageText ? \"dis\" : \"en\"}abled the PostMuteMessageText rule.`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.defaults.config.rules`, default_rules);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"PostKickMessage\":\n\t\t\t\t\t\tif (default_rules.PostKickMessage) { delete default_rules.PostKickMessage; } else { default_rules.PostKickMessage = true; }\n\t\t\t\t\t\tcontent = `You have ${default_rules.PostKickMessage ? \"dis\" : \"en\"}abled the PostKickMessage rule.`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.defaults.config.rules`, default_rules);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"PostKickMessageText\":\n\t\t\t\t\t\tif (default_rules.PostKickMessageText) { delete default_rules.PostKickMessageText; } else { default_rules.PostKickMessageText = true; }\n\t\t\t\t\t\tcontent = `You have ${default_rules.PostKickMessageText ? \"dis\" : \"en\"}abled the PostKickMessageText rule.`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.defaults.config.rules`, default_rules);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"PostBanMessage\":\n\t\t\t\t\t\tif (default_rules.PostBanMessage) { delete default_rules.PostBanMessage; } else { default_rules.PostBanMessage = true; }\n\t\t\t\t\t\tcontent = `You have ${default_rules.PostBanMessage ? \"dis\" : \"en\"}abled the PostBanMessage rule.`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.defaults.config.rules`, default_rules);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"PostBanMessageText\":\n\t\t\t\t\t\tif (default_rules.PostBanMessageText) { delete default_rules.PostBanMessageText; } else { default_rules.PostBanMessageText = true; }\n\t\t\t\t\t\tcontent = `You have ${default_rules.PostBanMessageText ? \"dis\" : \"en\"}abled the PostBanMessageText rule.`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem.config.defaults.config.rules`, default_rules);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tem.setColor('ORANGE');\n\t\t\t\t\t\tcontent = `Sorry, **${formatText(args.join(' ') || '<No selection>')}** was not a valid selection.`;\n\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content, messageperms ? attachment : null);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"transferfrom\":\n\t\t\t\tconst bws = Buffer.from(stringify(badwordsystem), 'utf8');\n\t\t\t\tattachment = new DiscordJS.MessageAttachment(bws, 'bws_settings.txt');\n\t\t\t\tcontent = messageperms ? \"I have attached the entire bad word system settings for this server.\" : `I do not have permission to attach the file. Here is the entire bad word system settings for this server: ${attachment.url}`;\n\t\t\t\tem.attachFiles(attachment)\n\t\t\t\t\t.setDescription(content);\n\t\t\t\tmsg.channel.send(content, messageperms ? attachment : null);\n\t\t\t\tbreak;\n\t\t\tcase \"transferto\":\n\t\t\t\tif (!member.hasPermission(\"ADMINISTRATOR\")) {\n\t\t\t\t\tcontent = \"To prevent abuse, this command requires the Administrator permission to be run, as it replaces the ENTIRE Bad Word System settings.\";\n\t\t\t\t\tem.setColor('ORANGE')\n\t\t\t\t\t\t.setDescription(content);\n\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\ttry {\n\t\t\t\t\tfile_url = msg.attachments.find(att => att.url.match(/\\.txt$/)) || args.slice(1, Infinity).join(' ').match(/^((http(s)?)?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)\\/\\w+\\.txt$/) || '';\n\t\t\t\t\tif (!file_url) {\n\t\t\t\t\t\tcontent = \"Please either attach a file, or provide a link to the file.\"\n\t\t\t\t\t\tem.setColor('ORANGE')\n\t\t\t\t\t\t\t.setDescription(content);\n\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\thttps.get(file_url, (resp) => {\n\t\t\t\t\t\tlet data = '';\n\t\t\t\t\t\tresp.on('data', (chunk) => {\n\t\t\t\t\t\t\tdata += chunk;\n\t\t\t\t\t\t})\n\t\t\t\t\t\tresp.on('end', () => { // data is fully collected.\n\t\t\t\t\t\t\tbadwordsystem = parse(data);\n\t\t\t\t\t\t\tdb.set(`servers.${msg.guild.id}.badwordsystem`, badwordsystem);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tcontent = `Successfully setup the bad word system with the provided settings file.`;\n\t\t\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t\t\t})\n\t\t\t\t\t});\n\t\t\t\t} catch (err) {\n\t\t\t\t\tem.setColor('ORANGE'); attachment = null;\n\t\t\t\t\tcontent = \"There was an error parsing your file. Please ensure you are providing a valid file attachment or a valid link to the file.\";\n\t\t\t\t\tem.setDescription(content);\n\t\t\t\t\tmsg.channel.send(messageperms ? em : content);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tem.setColor('ORANGE');\n\t\t\t\tcontent = `Sorry, **${formatText(args.join(' ') || '<No selection>')}** was not a valid selection. Try running **${prefix}${command} help**`;\n\t\t\t\tem.setDescription(content);\n\t\t\t\tmsg.channel.send(messageperms ? em : content, messageperms ? attachment : null);\n\t\t\t\tbreak;\n\t\t}\n\t}\n})();",
      "behavior": "1",
      "interpretation": "1",
      "storage": "0",
      "varName": "",
      "VTypeSelect": "0",
      "CVTypeValue": "",
      "name": "Run Script"
    }
  ]
}
